knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
include = TRUE,
cache = FALSE,
echo=TRUE)
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(spatstat)
library(spatstat)
library(spatstat)
packages.install(spatstat)
install.packages("spatstat")
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
include = TRUE,
cache = FALSE,
echo=TRUE)
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(spatstat)
library(spatstat)
install.packages(spatstat)
install.packages(spatstat)
install.packages("goftest")
install.packages("spatstat")
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
library(spatstat)
install.packages("spatstat.core")
library(spatstat)
library(spatstat.core)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
include = TRUE,
cache = FALSE,
echo=TRUE)
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(spatstat)
install.packages(spatstat.core)
install.packages(spatstat)
packages.install(spatstat.core)
packages.install(spatstat)
install.packages("spatstat")
packages.install(spatstat)
install.packages("spatstat")
library(spatstat)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
include = TRUE,
cache = FALSE,
echo=TRUE)
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(spatstat)
library(raster)
library(spdep)
library(FNN)
library(grid)
library(gridExtra)
library(knitr)
library(kableExtra)
install.packages(kableExtra)
install.packages(kableExtra)
install.packages(kableExtra)
install.packages("kableExtra")
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
include = TRUE,
cache = FALSE,
echo=TRUE)
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(spatstat)
library(raster)
library(spdep)
library(FNN)
library(grid)
library(gridExtra)
library(knitr)
library(kableExtra)
install.packages("systemfonts")
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
include = TRUE,
cache = FALSE,
echo=TRUE)
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(spatstat)
library(raster)
library(spdep)
library(FNN)
library(grid)
library(gridExtra)
library(knitr)
library(kableExtra)
library(systemfonts)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
include = TRUE,
cache = FALSE,
echo=TRUE)
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(spatstat)
library(raster)
library(spdep)
library(FNN)
library(grid)
library(gridExtra)
library(knitr)
library(kableExtra)
install.packages("kableExtra")
install.packages("kableExtra")
library(kableExtra)
install.packages("kableExtra")
install.packages("kableExtra")
library(kableExtra)
load("~/GitHub/Final/Full_dec5_1815.RData")
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
include = TRUE,
cache = FALSE,
echo=TRUE)
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(spatstat)
library(raster)
library(spdep)
library(FNN)
library(grid)
library(gridExtra)
library(knitr)
library(kableExtra)
library(tidycensus)
# functions
root.dir = "https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/DATA/"
source("https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/functions.r")
# uses grid.arrange to organize indpendent plots
grid.arrange(ncol=2,
ggplot() +
geom_sf(data = chicagoBoundary) +
geom_sf(data = FoodInspect, colour="red", size=0.1, show.legend = "point") +
labs(title= "Food Inspections, Chicago - 2018") +
mapTheme(title_size = 14),
ggplot() +
geom_sf(data = chicagoBoundary, fill = "grey80") +
stat_density2d(data = data.frame(st_coordinates(FoodInspect)),
aes(X, Y, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 40, geom = 'polygon') +
scale_fill_viridis() +
scale_alpha(range = c(0.00, 0.35), guide = FALSE) +
labs(title = "Density of Food Inspections") +
mapTheme(title_size = 14) + theme(legend.position = "none"))
FoodInspect <- Food %>%
mutate(year = substr(inspection_date,1,4)) %>%
filter(year == "2018") %>%
filter(results=="Fail") %>%
dplyr::select(Y = latitude, X = longitude) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(st_crs(fishnet)) %>%
mutate(Legend = "Food_Inspect")
FoodInspect <- Food %>%
mutate(year = substr(inspection_date,1,4)) %>%
filter(year == "2018") %>%
filter(results=="Fail") %>%
dplyr::select(Y = latitude, X = longitude) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(st_crs(fishnet)) %>%
mutate(Legend = "Food_Inspect")
grid.arrange(ncol=2,
ggplot() +
geom_sf(data = chicagoBoundary) +
geom_sf(data = FoodInspect, colour="red", size=0.1, show.legend = "point") +
labs(title= "Failed Food Inspections, Chicago - 2018") +
mapTheme(title_size = 14),
grid.arrange(ncol=2,
ggplot() +
geom_sf(data = chicagoBoundary) +
geom_sf(data = FoodInspect, colour="red", size=0.1, show.legend = "point") +
labs(title= "Failed Food Inspections, Chicago - 2018") +
mapTheme(title_size = 14),
ggplot() +
geom_sf(data = chicagoBoundary, fill = "grey80") +
stat_density2d(data = data.frame(st_coordinates(FoodInspect)),
aes(X, Y, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 40, geom = 'polygon') +
scale_fill_viridis() +
scale_alpha(range = c(0.00, 0.35), guide = FALSE) +
labs(title = "Density of Failed Food Inspections") +
mapTheme(title_size = 14) + theme(legend.position = "none"))
# Plot the fishnet displaying the count of inspection failures
ggplot() +
